Handle user and groups user problem, 
Also handled multithreading issues, 